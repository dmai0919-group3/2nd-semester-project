name: Compile project

on:
  pull_request:
    branches:
      - 'dev'
      - 'master'
  push:
    branches: 
      - "*"

jobs:

  test:
    name: Compile Test
    runs-on: ubuntu-18.04

    steps:
      - uses: actions/checkout@v1
      - name: Set up JDK 11
        uses: actions/setup-java@v1
        with:
          java-version: 1.11
      - name: JDK Compile
        run: cd src && javac main/Main.java
      - name: Run program
        env:
          TEVOS_JDBC_URL: ${{ secrets.TEVOS_JDBC_URL }}
        run: java -Xmx256m -classpath "lib/mssql-jdbc-8.2.2.jre11.jar:lib/commons-lang3-3.9.jar:lib/commons-text-1.8.jar:src/" main.Main
